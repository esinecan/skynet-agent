[2025-05-29T17:30:31.519Z] [INFO] [main] GUI mode enabled - cleared idle-logs.txt
[2025-05-29T17:30:31.519Z] [INFO] [errorHandler] Global error handlers set up
[2025-05-29T17:30:31.520Z] [INFO] [main] Skynet Agent is initializing...
[2025-05-29T17:30:31.521Z] [INFO] [main] Checking environment configuration...
[2025-05-29T17:30:31.522Z] [INFO] [main] MCP configuration found: config.json
[2025-05-29T17:30:31.522Z] [INFO] [main] Environment configuration validated
[2025-05-29T17:30:31.526Z] [INFO] [agent] Loaded 4 MCP server configurations.
[2025-05-29T17:30:32.754Z] [INFO] [mcpClient] Connected to MCP server: filesystem
[2025-05-29T17:30:32.758Z] [INFO] [mcpClient] filesystem provides tools: tools
[2025-05-29T17:30:33.728Z] [INFO] [mcpClient] Connected to MCP server: windows-cli
[2025-05-29T17:30:33.730Z] [INFO] [mcpClient] windows-cli provides tools: tools
[2025-05-29T17:30:35.062Z] [INFO] [mcpClient] Connected to MCP server: playwright
[2025-05-29T17:30:35.066Z] [INFO] [mcpClient] playwright provides tools: tools
[2025-05-29T17:30:36.341Z] [INFO] [mcpClient] Connected to MCP server: sequential-thinking
[2025-05-29T17:30:36.342Z] [INFO] [mcpClient] sequential-thinking provides tools: tools
[2025-05-29T17:30:36.342Z] [INFO] [agent] MCP Client Manager initialized and clients connected.
[2025-05-29T17:30:36.342Z] [INFO] [agent] MCP Client Manager has 4 active clients.
[2025-05-29T17:30:36.343Z] [INFO] [agent] LLM functionality handled by LLMService in workflow.
[2025-05-29T17:30:36.343Z] [INFO] [workflow] Creating agent workflow with LangGraph...
[2025-05-29T17:30:36.344Z] [INFO] [workflow] MCPManager availability:
Context: { available: true }
[2025-05-29T17:30:36.344Z] [INFO] [llmService] LLMService initialized with model: google:gemini-2.5-flash-preview-05-20
[2025-05-29T17:30:36.345Z] [INFO] [workflow] LLMService created with model:
Context: {
  id: 'google:gemini-2.5-flash-preview-05-20',
  provider: 'google',
  model: 'gemini-2.5-flash-preview-05-20'
}
[2025-05-29T17:30:36.345Z] [INFO] [workflow] Nodes added to the graph
[2025-05-29T17:30:36.345Z] [INFO] [workflow] Entry point set
[2025-05-29T17:30:36.346Z] [INFO] [workflow] Edge added: memoryRetrieval -> llmQuery
[2025-05-29T17:30:36.346Z] [INFO] [workflow] Adding conditional edges...
[2025-05-29T17:30:36.346Z] [INFO] [workflow] Conditional edges added: llmQuery -> toolExecution/selfReflection
[2025-05-29T17:30:36.347Z] [INFO] [workflow] Edge added: toolExecution -> llmQuery
[2025-05-29T17:30:36.347Z] [INFO] [workflow] Edge added: selfReflection -> memoryStorage
[2025-05-29T17:30:36.347Z] [INFO] [workflow] Edge added: memoryStorage -> __end__
[2025-05-29T17:30:36.347Z] [INFO] [workflow] Compiling the graph without a checkpointer...
[2025-05-29T17:30:36.349Z] [INFO] [workflow] Graph compiled successfully
[2025-05-29T17:30:36.350Z] [INFO] [agent] Agent workflow initialized.
[2025-05-29T17:30:36.351Z] [INFO] [main] Agent initialized successfully
Context: { workflowAvailable: true, mcpAvailable: true }
[2025-05-29T17:30:36.351Z] [INFO] [health] Health monitoring initialized
[2025-05-29T17:30:36.352Z] [INFO] [chroma-memory] Initializing ChromaDB memory manager...
[2025-05-29T17:30:36.380Z] [INFO] [memoryConsolidation] Memory consolidation scheduled
Context: { schedule: '0 2 * * *' }
[2025-05-29T17:30:36.381Z] [INFO] [intrinsicMotivation] Intrinsic motivation system initialized
Context: {
  idleThreshold: 10,
  taskDir: 'C:\\Users\\yepis\\dev\\skynet-agent\\data\\tasks'
}
[2025-05-29T17:30:36.381Z] [INFO] [selfReflection] Self-reflection system initialized
Context: {
  reflectionDir: 'C:\\Users\\yepis\\dev\\skynet-agent\\data\\reflections'
}
[2025-05-29T17:30:36.382Z] [INFO] [server] All subsystems initialized
[2025-05-29T17:30:36.384Z] [INFO] [server] API server listening on port 9000
[2025-05-29T17:30:36.384Z] [INFO] [main] GUI mode enabled, API server running at http://localhost:9000, frontend at http://localhost:3000
[2025-05-29T17:30:36.427Z] [INFO] [main] Testing memory system...
[2025-05-29T17:30:36.428Z] [INFO] [chroma-memory] Initializing ChromaDB memory manager...
[2025-05-29T17:30:36.692Z] [INFO] [chroma-memory] Using existing collection: skynet_memories
[2025-05-29T17:30:36.695Z] [INFO] [chroma-memory] Using existing collection: skynet_memories
[2025-05-29T17:30:36.718Z] [INFO] [chroma-memory] Connected to ChromaDB successfully
[2025-05-29T17:30:36.721Z] [INFO] [chroma-memory] Connected to ChromaDB successfully
[2025-05-29T17:30:36.721Z] [INFO] [embeddings] Embedding service initialized with Google AI SDK
[2025-05-29T17:30:37.400Z] [INFO] [chroma-memory] Memory stored successfully
Context: { id: 'mem_1748539837144_8cgqdwws', textLength: 46 }
[2025-05-29T17:30:38.200Z] [INFO] [chroma-memory] Retrieved 1 memories
Context: { queryLength: 46, topScore: 1 }
[2025-05-29T17:30:38.201Z] [INFO] [main] âœ… Memory system test passed
[2025-05-29T17:30:38.201Z] [INFO] [main] Skynet Agent is ready for interaction
Context: {
  port: 9000,
  guiMode: true,
  envValid: true,
  googleApiKey: 'configured',
  idleThreshold: '10',
  memoryConsolidation: '0 2 * * *'
}
[2025-05-29T17:30:41.804Z] [INFO] [server] GET /api/sessions
Context: {
  ip: '::1',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0'
}
[2025-05-29T17:30:41.849Z] [INFO] [server] POST /api/sessions
Context: {
  ip: '::1',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0'
}
[2025-05-29T17:30:41.852Z] [INFO] [server] POST /api/sessions
Context: {
  ip: '::1',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0'
}
[2025-05-29T17:30:41.855Z] [INFO] [server] POST /api/sessions
Context: {
  ip: '::1',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0'
}
[2025-05-29T17:30:41.857Z] [INFO] [server] POST /api/sessions
Context: {
  ip: '::1',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0'
}
[2025-05-29T17:30:41.861Z] [INFO] [server] GET /api/sessions
Context: {
  ip: '::1',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0'
}
[2025-05-29T17:30:49.270Z] [INFO] [server] POST /api/chat/stream
Context: {
  ip: '::1',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0'
}
[2025-05-29T17:30:49.273Z] [INFO] [agent] Invoking synchronous workflow for thread 'session_1748539841858_3kundd4ak' with input: "kjgkkh..."
[2025-05-29T17:30:49.273Z] [INFO] [workflow] Invoking wrapped graph with custom context
[2025-05-29T17:30:49.281Z] [INFO] [workflow] Entering workflow at entry point node
Context: { hasInput: true, messageCount: 0 }
[2025-05-29T17:30:49.286Z] [INFO] [workflow] Retrieving relevant memories
Context: { query: 'kjgkkh' }
[2025-05-29T17:30:49.613Z] [INFO] [chroma-memory] Retrieved 3 memories
Context: { queryLength: 6, topScore: 0.44411972384102627 }
[2025-05-29T17:30:49.614Z] [INFO] [workflow] Found 3 relevant memories
Context: { topMemoryScore: 0.44411972384102627 }
[2025-05-29T17:30:49.618Z] [INFO] [mcpClient] Found 1 tools from server filesystem: tools
[2025-05-29T17:30:49.620Z] [INFO] [mcpClient] Found 1 tools from server windows-cli: tools
[2025-05-29T17:30:49.624Z] [INFO] [mcpClient] Found 1 tools from server playwright: tools
[2025-05-29T17:30:49.626Z] [INFO] [mcpClient] Found 1 tools from server sequential-thinking: tools
[2025-05-29T17:30:49.628Z] [WARN] [llmService] Server filesystem returned non-array tools response
Context: {
  serverTools: {
    tools: [
      {
        name: 'read_file',
        description: 'Read the complete contents of a file from the file system. Handles various text encodings and provides detailed error messages if the file cannot be read. Use this tool when you need to examine the contents of a single file. Only works within allowed directories.',
        inputSchema: {
          type: 'object',
          properties: [Object],
          required: [Array],
          additionalProperties: false,
          '$schema': 'http://json-schema.org/draft-07/schema#'
        }
      },
      {
        name: 'read_multiple_files',
        description: "Read the contents of multiple files simultaneously. This is more efficient than reading files one by one when you need to analyze or compare multiple files. Each file's content is returned with its path as a reference. Failed reads for individual files won't stop the entire operation. Only works within allowed directories.",
        inputSchema: {
          type: 'object',
          properties: [Object],
          required: [Array],
          additionalProperties: false,
          '$schema': 'http://json-schema.org/draft-07/schema#'
        }
      },
      {
        name: 'write_file',
        description: 'Create a new file or completely overwrite an existing file with new content. Use with caution as it will overwrite existing files without warning. Handles text content with proper encoding. Only works within allowed directories.',
        inputSchema: {
          type: 'object',
          properties: [Object],
          required: [Array],
          additionalProperties: false,
          '$schema': 'http://json-schema.org/draft-07/schema#'
        }
      },
      {
        name: 'edit_file',
        description: 'Make line-based edits to a text file. Each edit replaces exact line sequences with new content. Returns a git-style diff showing the changes made. Only works within allowed directories.',
        inputSchema: {
          type: 'object',
          properties: [Object],
          required: [Array],
          additionalProperties: false,
          '$schema': 'http://json-schema.org/draft-07/schema#'
        }
      },
      {
        name: 'create_directory',
        description: 'Create a new directory or ensure a directory exists. Can create multiple nested directories in one operation. If the directory already exists, this operation will succeed silently. Perfect for setting up directory structures for projects or ensuring required paths exist. Only works within allowed directories.',
        inputSchema: {
          type: 'object',
          properties: [Object],
          required: [Array],
          additionalProperties: false,
          '$schema': 'http://json-schema.org/draft-07/schema#'
        }
      },
      {
        name: 'list_directory',
        description: 'Get a detailed listing of all files and directories in a specified path. Results clearly distinguish between files and directories with [FILE] and [DIR] prefixes. This tool is essential for understanding directory structure and finding specific files within a directory. Only works within allowed directories.',
        inputSchema: {
          type: 'object',
          properties: [Object],
          required: [Array],
          additionalProperties: false,
          '$schema': 'http://json-schema.org/draft-07/schema#'
        }
      },
      {
        name: 'directory_tree',
        description: "Get a recursive tree view of files and directories as a JSON structure. Each entry includes 'name', 'type' (file/directory), and 'children' for directories. Files have no children array, while directories always have a children array (which may be empty). The output is formatted with 2-space indentation for readability. Only works within allowed directories.",
        inputSchema: {
          type: 'object',
          properties: [Object],
          required: [Array],
          additionalProperties: false,
          '$schema': 'http://json-schema.org/draft-07/schema#'
        }
      },
      {
        name: 'move_file',
        description: 'Move or rename files and directories. Can move files between directories and rename them in a single operation. If the destination exists, the operation will fail. Works across different directories and can be used for simple renaming within the same directory. Both source and destination must be within allowed directories.',
        inputSchema: {
          type: 'object',
          properties: [Object],
          required: [Array],
          additionalProperties: false,
          '$schema': 'http://json-schema.org/draft-07/schema#'
        }
      },
      {
        name: 'search_files',
        description: "Recursively search for files and directories matching a pattern. Searches through all subdirectories from the starting path. The search is case-insensitive and matches partial names. Returns full paths to all matching items. Great for finding files when you don't know their exact location. Only searches within allowed directories.",
        inputSchema: {
          type: 'object',
          properties: [Object],
          required: [Array],
          additionalProperties: false,
          '$schema': 'http://json-schema.org/draft-07/schema#'
        }
      },
      {
        name: 'get_file_info',
        description: 'Retrieve detailed metadata about a file or directory. Returns comprehensive information including size, creation time, last modified time, permissions, and type. This tool is perfect for understanding file characteristics without reading the actual content. Only works within allowed directories.',
        inputSchema: {
          type: 'object',
          properties: [Object],
          required: [Array],
          additionalProperties: false,
          '$schema': 'http://json-schema.org/draft-07/schema#'
        }
      },
      {
        name: 'list_allowed_directories',
        description: 'Returns the list of directories that this server is allowed to access. Use this to understand which directories are available before trying to access files.',
        inputSchema: { type: 'object', properties: {}, required: [] }
      }
    ]
  }
}
[2025-05-29T17:30:49.631Z] [WARN] [llmService] Server windows-cli returned non-array tools response
Context: {
  serverTools: {
    tools: [
      {
        name: 'execute_command',
        description: 'Execute a command in the specified shell (powershell, cmd, or gitbash)\n' +
          '\n' +
          'Example usage (PowerShell):\n' +
          '```json\n' +
          '{\n' +
          '  "shell": "powershell",\n' +
          '  "command": "Get-Process | Select-Object -First 5",\n' +
          '  "workingDir": "C:\\Users\\username"\n' +
          '}\n' +
          '```\n' +
          '\n' +
          'Example usage (CMD):\n' +
          '```json\n' +
          '{\n' +
          '  "shell": "cmd",\n' +
          '  "command": "dir /b",\n' +
          '  "workingDir": "C:\\Projects"\n' +
          '}\n' +
          '```\n' +
          '\n' +
          'Example usage (Git Bash):\n' +
          '```json\n' +
          '{\n' +
          '  "shell": "gitbash",\n' +
          '  "command": "ls -la",\n' +
          '  "workingDir": "/c/Users/username"\n' +
          '}\n' +
          '```',
        inputSchema: { type: 'object', properties: [Object], required: [Array] }
      },
      {
        name: 'get_command_history',
        description: 'Get the history of executed commands\n' +
          '\n' +
          'Example usage:\n' +
          '```json\n' +
          '{\n' +
          '  "limit": 5\n' +
          '}\n' +
          '```\n' +
          '\n' +
          'Example response:\n' +
          '```json\n' +
          '[\n' +
          '  {\n' +
          '    "command": "Get-Process",\n' +
          '    "output": "...",\n' +
          '    "timestamp": "2024-03-20T10:30:00Z",\n' +
          '    "exitCode": 0\n' +
          '  }\n' +
          ']\n' +
          '```',
        inputSchema: { type: 'object', properties: [Object] }
      },
      {
        name: 'ssh_execute',
        description: 'Execute a command on a remote host via SSH\n' +
          '\n' +
          'Example usage:\n' +
          '```json\n' +
          '{\n' +
          '  "connectionId": "raspberry-pi",\n' +
          '  "command": "uname -a"\n' +
          '}\n' +
          '```\n' +
          '\n' +
          'Configuration required in config.json:\n' +
          '```json\n' +
          '{\n' +
          '  "ssh": {\n' +
          '    "enabled": true,\n' +
          '    "connections": {\n' +
          '      "raspberry-pi": {\n' +
          '        "host": "raspberrypi.local",\n' +
          '        "port": 22,\n' +
          '        "username": "pi",\n' +
          '        "password": "raspberry"\n' +
          '      }\n' +
          '    }\n' +
          '  }\n' +
          '}\n' +
          '```',
        inputSchema: { type: 'object', properties: [Object], required: [Array] }
      },
      {
        name: 'ssh_disconnect',
        description: 'Disconnect from an SSH server\n' +
          '\n' +
          'Example usage:\n' +
          '```json\n' +
          '{\n' +
          '  "connectionId": "raspberry-pi"\n' +
          '}\n' +
          '```\n' +
          '\n' +
          "Use this to cleanly close SSH connections when they're no longer needed.",
        inputSchema: { type: 'object', properties: [Object], required: [Array] }
      },
      {
        name: 'create_ssh_connection',
        description: 'Create a new SSH connection',
        inputSchema: { type: 'object', properties: [Object] }
      },
      {
        name: 'read_ssh_connections',
        description: 'Read all SSH connections',
        inputSchema: { type: 'object', properties: {} }
      },
      {
        name: 'update_ssh_connection',
        description: 'Update an existing SSH connection',
        inputSchema: { type: 'object', properties: [Object] }
      },
      {
        name: 'delete_ssh_connection',
        description: 'Delete an existing SSH connection',
        inputSchema: { type: 'object', properties: [Object], required: [Array] }
      },
      {
        name: 'get_current_directory',
        description: 'Get the current working directory',
        inputSchema: { type: 'object', properties: {} }
      }
    ]
  }
}
[2025-05-29T17:30:49.633Z] [WARN] [llmService] Server playwright returned non-array tools response
Context: {
  serverTools: {
    tools: [
      {
        name: 'browser_close',
        description: 'Close the page',
        inputSchema: {
          type: 'object',
          properties: {},
          additionalProperties: false,
          '$schema': 'http://json-schema.org/draft-07/schema#'
        },
        annotations: {
          title: 'Close browser',
          readOnlyHint: true,
          destructiveHint: false,
          openWorldHint: true
        }
      },
      {
        name: 'browser_resize',
        description: 'Resize the browser window',
        inputSchema: {
          type: 'object',
          properties: [Object],
          required: [Array],
          additionalProperties: false,
          '$schema': 'http://json-schema.org/draft-07/schema#'
        },
        annotations: {
          title: 'Resize browser window',
          readOnlyHint: true,
          destructiveHint: false,
          openWorldHint: true
        }
      },
      {
        name: 'browser_console_messages',
        description: 'Returns all console messages',
        inputSchema: {
          type: 'object',
          properties: {},
          additionalProperties: false,
          '$schema': 'http://json-schema.org/draft-07/schema#'
        },
        annotations: {
          title: 'Get console messages',
          readOnlyHint: true,
          destructiveHint: false,
          openWorldHint: true
        }
      },
      {
        name: 'browser_handle_dialog',
        description: 'Handle a dialog',
        inputSchema: {
          type: 'object',
          properties: [Object],
          required: [Array],
          additionalProperties: false,
          '$schema': 'http://json-schema.org/draft-07/schema#'
        },
        annotations: {
          title: 'Handle a dialog',
          readOnlyHint: false,
          destructiveHint: true,
          openWorldHint: true
        }
      },
      {
        name: 'browser_file_upload',
        description: 'Upload one or multiple files',
        inputSchema: {
          type: 'object',
          properties: [Object],
          required: [Array],
          additionalProperties: false,
          '$schema': 'http://json-schema.org/draft-07/schema#'
        },
        annotations: {
          title: 'Upload files',
          readOnlyHint: false,
          destructiveHint: true,
          openWorldHint: true
        }
      },
      {
        name: 'browser_install',
        description: 'Install the browser specified in the config. Call this if you get an error about the browser not being installed.',
        inputSchema: {
          type: 'object',
          properties: {},
          additionalProperties: false,
          '$schema': 'http://json-schema.org/draft-07/schema#'
        },
        annotations: {
          title: 'Install the browser specified in the config',
          readOnlyHint: false,
          destructiveHint: true,
          openWorldHint: true
        }
      },
      {
        name: 'browser_press_key',
        description: 'Press a key on the keyboard',
        inputSchema: {
          type: 'object',
          properties: [Object],
          required: [Array],
          additionalProperties: false,
          '$schema': 'http://json-schema.org/draft-07/schema#'
        },
        annotations: {
          title: 'Press a key',
          readOnlyHint: false,
          destructiveHint: true,
          openWorldHint: true
        }
      },
      {
        name: 'browser_navigate',
        description: 'Navigate to a URL',
        inputSchema: {
          type: 'object',
          properties: [Object],
          required: [Array],
          additionalProperties: false,
          '$schema': 'http://json-schema.org/draft-07/schema#'
        },
        annotations: {
          title: 'Navigate to a URL',
          readOnlyHint: false,
          destructiveHint: true,
          openWorldHint: true
        }
      },
      {
        name: 'browser_navigate_back',
        description: 'Go back to the previous page',
        inputSchema: {
          type: 'object',
          properties: {},
          additionalProperties: false,
          '$schema': 'http://json-schema.org/draft-07/schema#'
        },
        annotations: {
          title: 'Go back',
          readOnlyHint: true,
          destructiveHint: false,
          openWorldHint: true
        }
      },
      {
        name: 'browser_navigate_forward',
        description: 'Go forward to the next page',
        inputSchema: {
          type: 'object',
          properties: {},
          additionalProperties: false,
          '$schema': 'http://json-schema.org/draft-07/schema#'
        },
        annotations: {
          title: 'Go forward',
          readOnlyHint: true,
          destructiveHint: false,
          openWorldHint: true
        }
      },
      {
        name: 'browser_network_requests',
        description: 'Returns all network requests since loading the page',
        inputSchema: {
          type: 'object',
          properties: {},
          additionalProperties: false,
          '$schema': 'http://json-schema.org/draft-07/schema#'
        },
        annotations: {
          title: 'List network requests',
          readOnlyHint: true,
          destructiveHint: false,
          openWorldHint: true
        }
      },
      {
        name: 'browser_pdf_save',
        description: 'Save page as PDF',
        inputSchema: {
          type: 'object',
          properties: [Object],
          additionalProperties: false,
          '$schema': 'http://json-schema.org/draft-07/schema#'
        },
        annotations: {
          title: 'Save as PDF',
          readOnlyHint: true,
          destructiveHint: false,
          openWorldHint: true
        }
      },
      {
        name: 'browser_take_screenshot',
        description: "Take a screenshot of the current page. You can't perform actions based on the screenshot, use browser_snapshot for actions.",
        inputSchema: {
          type: 'object',
          properties: [Object],
          additionalProperties: false,
          '$schema': 'http://json-schema.org/draft-07/schema#'
        },
        annotations: {
          title: 'Take a screenshot',
          readOnlyHint: true,
          destructiveHint: false,
          openWorldHint: true
        }
      },
      {
        name: 'browser_snapshot',
        description: 'Capture accessibility snapshot of the current page, this is better than screenshot',
        inputSchema: {
          type: 'object',
          properties: {},
          additionalProperties: false,
          '$schema': 'http://json-schema.org/draft-07/schema#'
        },
        annotations: {
          title: 'Page snapshot',
          readOnlyHint: true,
          destructiveHint: false,
          openWorldHint: true
        }
      },
      {
        name: 'browser_click',
        description: 'Perform click on a web page',
        inputSchema: {
          type: 'object',
          properties: [Object],
          required: [Array],
          additionalProperties: false,
          '$schema': 'http://json-schema.org/draft-07/schema#'
        },
        annotations: {
          title: 'Click',
          readOnlyHint: false,
          destructiveHint: true,
          openWorldHint: true
        }
      },
      {
        name: 'browser_drag',
        description: 'Perform drag and drop between two elements',
        inputSchema: {
          type: 'object',
          properties: [Object],
          required: [Array],
          additionalProperties: false,
          '$schema': 'http://json-schema.org/draft-07/schema#'
        },
        annotations: {
          title: 'Drag mouse',
          readOnlyHint: false,
          destructiveHint: true,
          openWorldHint: true
        }
      },
      {
        name: 'browser_hover',
        description: 'Hover over element on page',
        inputSchema: {
          type: 'object',
          properties: [Object],
          required: [Array],
          additionalProperties: false,
          '$schema': 'http://json-schema.org/draft-07/schema#'
        },
        annotations: {
          title: 'Hover mouse',
          readOnlyHint: true,
          destructiveHint: false,
          openWorldHint: true
        }
      },
      {
        name: 'browser_type',
        description: 'Type text into editable element',
        inputSchema: {
          type: 'object',
          properties: [Object],
          required: [Array],
          additionalProperties: false,
          '$schema': 'http://json-schema.org/draft-07/schema#'
        },
        annotations: {
          title: 'Type text',
          readOnlyHint: false,
          destructiveHint: true,
          openWorldHint: true
        }
      },
      {
        name: 'browser_select_option',
        description: 'Select an option in a dropdown',
        inputSchema: {
          type: 'object',
          properties: [Object],
          required: [Array],
          additionalProperties: false,
          '$schema': 'http://json-schema.org/draft-07/schema#'
        },
        annotations: {
          title: 'Select option',
          readOnlyHint: false,
          destructiveHint: true,
          openWorldHint: true
        }
      },
      {
        name: 'browser_tab_list',
        description: 'List browser tabs',
        inputSchema: {
          type: 'object',
          properties: {},
          additionalProperties: false,
          '$schema': 'http://json-schema.org/draft-07/schema#'
        },
        annotations: {
          title: 'List tabs',
          readOnlyHint: true,
          destructiveHint: false,
          openWorldHint: true
        }
      },
      {
        name: 'browser_tab_new',
        description: 'Open a new tab',
        inputSchema: {
          type: 'object',
          properties: [Object],
          additionalProperties: false,
          '$schema': 'http://json-schema.org/draft-07/schema#'
        },
        annotations: {
          title: 'Open a new tab',
          readOnlyHint: true,
          destructiveHint: false,
          openWorldHint: true
        }
      },
      {
        name: 'browser_tab_select',
        description: 'Select a tab by index',
        inputSchema: {
          type: 'object',
          properties: [Object],
          required: [Array],
          additionalProperties: false,
          '$schema': 'http://json-schema.org/draft-07/schema#'
        },
        annotations: {
          title: 'Select a tab',
          readOnlyHint: true,
          destructiveHint: false,
          openWorldHint: true
        }
      },
      {
        name: 'browser_tab_close',
        description: 'Close a tab',
        inputSchema: {
          type: 'object',
          properties: [Object],
          additionalProperties: false,
          '$schema': 'http://json-schema.org/draft-07/schema#'
        },
        annotations: {
          title: 'Close a tab',
          readOnlyHint: false,
          destructiveHint: true,
          openWorldHint: true
        }
      },
      {
        name: 'browser_generate_playwright_test',
        description: 'Generate a Playwright test for given scenario',
        inputSchema: {
          type: 'object',
          properties: [Object],
          required: [Array],
          additionalProperties: false,
          '$schema': 'http://json-schema.org/draft-07/schema#'
        },
        annotations: {
          title: 'Generate a Playwright test',
          readOnlyHint: true,
          destructiveHint: false,
          openWorldHint: true
        }
      },
      {
        name: 'browser_wait_for',
        description: 'Wait for text to appear or disappear or a specified time to pass',
        inputSchema: {
          type: 'object',
          properties: [Object],
          additionalProperties: false,
          '$schema': 'http://json-schema.org/draft-07/schema#'
        },
        annotations: {
          title: 'Wait for',
          readOnlyHint: true,
          destructiveHint: false,
          openWorldHint: true
        }
      }
    ]
  }
}
[2025-05-29T17:30:49.636Z] [WARN] [llmService] Server sequential-thinking returned non-array tools response
Context: {
  serverTools: {
    tools: [
      {
        name: 'sequentialthinking',
        description: 'A detailed tool for dynamic and reflective problem-solving through thoughts.\n' +
          'This tool helps analyze problems through a flexible thinking process that can adapt and evolve.\n' +
          'Each thought can build on, question, or revise previous insights as understanding deepens.\n' +
          '\n' +
          'When to use this tool:\n' +
          '- Breaking down complex problems into steps\n' +
          '- Planning and design with room for revision\n' +
          '- Analysis that might need course correction\n' +
          '- Problems where the full scope might not be clear initially\n' +
          '- Problems that require a multi-step solution\n' +
          '- Tasks that need to maintain context over multiple steps\n' +
          '- Situations where irrelevant information needs to be filtered out\n' +
          '\n' +
          'Key features:\n' +
          '- You can adjust total_thoughts up or down as you progress\n' +
          '- You can question or revise previous thoughts\n' +
          '- You can add more thoughts even after reaching what seemed like the end\n' +
          '- You can express uncertainty and explore alternative approaches\n' +
          '- Not every thought needs to build linearly - you can branch or backtrack\n' +
          '- Generates a solution hypothesis\n' +
          '- Verifies the hypothesis based on the Chain of Thought steps\n' +
          '- Repeats the process until satisfied\n' +
          '- Provides a correct answer\n' +
          '\n' +
          'Parameters explained:\n' +
          '- thought: Your current thinking step, which can include:\n' +
          '* Regular analytical steps\n' +
          '* Revisions of previous thoughts\n' +
          '* Questions about previous decisions\n' +
          '* Realizations about needing more analysis\n' +
          '* Changes in approach\n' +
          '* Hypothesis generation\n' +
          '* Hypothesis verification\n' +
          '- next_thought_needed: True if you need more thinking, even if at what seemed like the end\n' +
          '- thought_number: Current number in sequence (can go beyond initial total if needed)\n' +
          '- total_thoughts: Current estimate of thoughts needed (can be adjusted up/down)\n' +
          '- is_revision: A boolean indicating if this thought revises previous thinking\n' +
          '- revises_thought: If is_revision is true, which thought number is being reconsidered\n' +
          '- branch_from_thought: If branching, which thought number is the branching point\n' +
          '- branch_id: Identifier for the current branch (if any)\n' +
          '- needs_more_thoughts: If reaching end but realizing more thoughts needed\n' +
          '\n' +
          'You should:\n' +
          '1. Start with an initial estimate of needed thoughts, but be ready to adjust\n' +
          '2. Feel free to question or revise previous thoughts\n' +
          `3. Don't hesitate to add more thoughts if needed, even at the "end"\n` +
          '4. Express uncertainty when present\n' +
          '5. Mark thoughts that revise previous thinking or branch into new paths\n' +
          '6. Ignore information that is irrelevant to the current step\n' +
          '7. Generate a solution hypothesis when appropriate\n' +
          '8. Verify the hypothesis based on the Chain of Thought steps\n' +
          '9. Repeat the process until satisfied with the solution\n' +
          '10. Provide a single, ideally correct answer as the final output\n' +
          '11. Only set next_thought_needed to false when truly done and a satisfactory answer is reached',
        inputSchema: { type: 'object', properties: [Object], required: [Array] }
      }
    ]
  }
}
[2025-05-29T17:30:49.637Z] [INFO] [llmService] Prepared 0 tools for LLM
[2025-05-29T17:30:49.690Z] [ERROR] [llmService] Error in complete LLM response generation
Context: {
  requestId: 'dez82z',
  errorMessage: "'system messages are only supported at the beginning of the conversation' functionality not supported.",
  totalTimeMs: 63
}
[2025-05-29T17:30:49.691Z] [ERROR] [workflow] Error in LLM query node
Context: {
  error: UnsupportedFunctionalityError [AI_UnsupportedFunctionalityError]: 'system messages are only supported at the beginning of the conversation' functionality not supported.
      at convertToGoogleGenerativeAIMessages (C:\Users\yepis\dev\skynet-agent\node_modules\@ai-sdk\google\src\convert-to-google-generative-ai-messages.ts:23:17)
      at GoogleGenerativeAILanguageModel.getArgs (C:\Users\yepis\dev\skynet-agent\node_modules\@ai-sdk\google\src\google-generative-ai-language-model.ts:140:7)
      at GoogleGenerativeAILanguageModel.doGenerate (C:\Users\yepis\dev\skynet-agent\node_modules\@ai-sdk\google\src\google-generative-ai-language-model.ts:226:43)
      at fn (C:\Users\yepis\dev\skynet-agent\node_modules\ai\core\generate-text\generate-text.ts:401:46)
      at C:\Users\yepis\dev\skynet-agent\node_modules\ai\core\telemetry\record-span.ts:18:28
      at Object.startActiveSpan (C:\Users\yepis\dev\skynet-agent\node_modules\ai\core\telemetry\noop-tracer.ts:21:14)
      at recordSpan (C:\Users\yepis\dev\skynet-agent\node_modules\ai\core\telemetry\record-span.ts:16:17)
      at C:\Users\yepis\dev\skynet-agent\node_modules\ai\core\generate-text\generate-text.ts:358:11
      at _retryWithExponentialBackoff (C:\Users\yepis\dev\skynet-agent\node_modules\ai\util\retry-with-exponential-backoff.ts:36:18)
      at C:\Users\yepis\dev\skynet-agent\node_modules\ai\util\retry-with-exponential-backoff.ts:20:5 {
    cause: undefined,
    functionality: 'system messages are only supported at the beginning of the conversation',
    [Symbol(vercel.ai.error)]: true,
    [Symbol(vercel.ai.error.AI_UnsupportedFunctionalityError)]: true
  },
  processingTimeMs: 76,
  messageCount: 2,
  userInput: 'kjgkkh',
  errorType: 'UnsupportedFunctionalityError',
  errorMessage: "'system messages are only supported at the beginning of the conversation' functionality not supported.",
  errorStack: "AI_UnsupportedFunctionalityError: 'system messages are only supported at the beginning of the conversation' functionality not supported.\n" +
    '    at convertToGoogleGenerativeAIMessages (C:\\Users\\yepis\\dev\\skynet-agent\\node_modules\\@ai-sdk\\google\\src\\convert-to-google-generative-ai-messages.ts:23:17)\n' +
    '    at GoogleGenerativeAILanguageModel.getArgs (C:\\Users\\yepis\\dev\\skynet-agent\\node_modules\\@ai-sdk\\google\\src\\google-generative-ai-language-model.ts:140:7)\n' +
    '    at GoogleGenerativeAILanguageModel.doGenerate (C:\\Users\\yepis\\dev\\skynet-agent\\node_modules\\@ai-sdk\\google\\src\\google-generative-ai-language-model.ts:226:43)\n' +
    '    at fn (C:\\Users\\yepis\\dev\\skynet-agent\\node_modules\\ai\\core\\generate-text\\generate-text.ts:401:46)\n' +
    '    at C:\\Users\\yepis\\dev\\skynet-agent\\node_modules\\ai\\core\\telemetry\\record-span.ts:18:28\n' +
    '    at Object.startActiveSpan (C:\\Users\\yepis\\dev\\skynet-agent\\node_modules\\ai\\core\\telemetry\\noop-tracer.ts:21:14)\n' +
    '    at recordSpan (C:\\Users\\yepis\\dev\\skynet-agent\\node_modules\\ai\\core\\telemetry\\record-span.ts:16:17)\n' +
    '    at C:\\Users\\yepis\\dev\\skynet-agent\\node_modules\\ai\\core\\generate-text\\generate-text.ts:358:11\n' +
    '    at _retryWithExponentialBackoff (C:\\Users\\yepis\\dev\\skynet-agent\\node_modules\\ai\\util\\retry-with-exponential-backoff.ts:36:18)\n' +
    '    at C:\\Users\\yepis\\dev\\skynet-agent\\node_modules\\ai\\util\\retry-with-exponential-backoff.ts:20:5'
}
[2025-05-29T17:30:49.705Z] [ERROR] [workflow] Error invoking wrapped graph:
Error: Error generating AI response
Stack: WorkflowError: Error generating AI response
    at RunnableLambda.llmQueryNode [as func] (C:\Users\yepis\dev\skynet-agent\src\agent\workflow.ts:447:11)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at C:\Users\yepis\dev\skynet-agent\node_modules\@langchain\langgraph\node_modules\@langchain\core\dist\runnables\base.cjs:1337:34
[2025-05-29T17:30:49.711Z] [WARN] [health] Component workflow health changed to DEGRADED: Error in workflow execution
Context: {
  healthId: 'fn7j7',
  component: 'workflow',
  status: 'DEGRADED',
  message: 'Error in workflow execution',
  details: undefined,
  overallStatus: 'DEGRADED'
}
[2025-05-29T17:30:49.711Z] [ERROR] [agent] Error in streaming workflow for thread session_1748539841858_3kundd4ak:
Error: Error generating AI response
Stack: WorkflowError: Error generating AI response
    at RunnableLambda.llmQueryNode [as func] (C:\Users\yepis\dev\skynet-agent\src\agent\workflow.ts:447:11)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at C:\Users\yepis\dev\skynet-agent\node_modules\@langchain\langgraph\node_modules\@langchain\core\dist\runnables\base.cjs:1337:34
[2025-05-29T17:30:49.733Z] [INFO] [server] GET /api/sessions/session_1748539841858_3kundd4ak
Context: {
  ip: '::1',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0'
}
